---
slug: performance
title: Performance Optimization
date: 2021-02-24T23:14:08.000Z
tags:
  - Front-end Knowledge System
keywords:
  - Front-end Knowledge System
  - Performance Optimization
description: Front-end Knowledge System - Performance Optimization
displayed_sidebar: interviewSidebar
sidebar_label: Performance Optimization
sidebar_position: 2
references:
  - name: 《带你入门前端工程》 - 性能优化
    url: >-
      https://woai3c.gitee.io/introduction-to-front-end-engineering/08.html#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%88%86%E7%B1%BB
summary: >-
  Website loading can be optimized through server-side rendering SSR.
  Performance monitoring can use tools such as pageSpeed, lighthouse, and
  web-vitals. Performance metrics include FCP, LCP, FID, CLS, etc. Caching can
  reduce HTTP requests and improve loading speed. Network optimization includes
  reducing HTTP requests, using HTTP2, HTTP caching 304, DNS pre-parsing,
  enabling gzip, etc. JS optimization includes using web workers,
  requestAnimationFrame to implement animations, event delegation, etc. CSS
  optimization includes reducing css repaint reflow, putting css in the header,
  js in the footer, reducing the complexity of css selectors, etc. Static
  resource optimization includes using CDN, JS lazy loading, image lazy loading,
  webp format, progressive image optimization experience, responsive images,
  etc. SEO optimization includes html tag semantization, reducing unnecessary
  elements, images with clear and meaningful alt descriptions, images with given
  width and height, TDK, structured data, crawlers not crawling the link,
  specifying the landing page, and reasonable use of h1 and h2.
ai_translation: true
---

## Website Loading

- Server-side rendering SSR

## Performance Monitoring

- pageSpeed
- lighthouse
- web-vitals

## Performance Metrics

- FCP
- LCP
- FID
- CLS

## Caching

### Interface Caching

For content that does not change frequently, interface caching can be used, such as category pages.

#### Caching Medium

- Server-side rendering uses redis, [a simple example](https://juejin.cn/post/6844904068217831438)
- Client-side rendering uses localStorage

## Network

- Reduce HTTP requests (for HTTP2 and below)
- Use HTTP2
- HTTP caching 304
- [DNS pre-parsing](https://developer.mozilla.org/zh-CN/docs/Web/Performance/dns-prefetch), use `<link rel="dns-prefetch" href="https://fonts.googleapis.com/">` to pre-parse third-party websites
- Enable gzip
- DNS caching (Node side)

## JS

- Use web workers for high-consumption tasks
- requestAnimationFrame to implement animations, reduce dropped frames
- Event delegation

## CSS

- Reduce css repaint reflow
- Put css in the header, js in the footer (JS loading and execution will block HTML parsing, or use defer)
- Reduce the complexity of css selectors

## Static Resources

Prefer to use CDN

### JS

- Lazy loading (code splitting)
- documentFragment
- script loading
  ![script loading](https://html.spec.whatwg.org/images/asyncdefer.svg)

### Images

- Image lazy loading
  - Native
  - getBoundingClientRect
  - IntersectionObserver
- webp format
- Progressive image optimization experience
- [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)

## SEO Related

- HTML tag semanticization
- Reduce unnecessary elements, reduce nesting
- Images should have clear and meaningful alt descriptions
- Images are given width and height, especially the first screen image will affect CLS
- TDK(react-helmet)
  - title
  - description
  - keywords
- Structured data - [application/ld+json](https://moz.com/blog/json-ld-for-beginners)
- Crawlers do not crawl the link `<a href="xxx" rel="nofollow">` to prevent weight transfer
- `<link rel="canonical" href="https://alanwang.site" >` Specify the landing page to prevent crawlers from crawling `https://alanwang.site?name='alan'`
- Reasonable use of h1 and h2
