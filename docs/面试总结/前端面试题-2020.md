---
title: å‰ç«¯é¢è¯•é¢˜-2020
tags:
  - é¢è¯•é¢˜
categories:
  - å‰ç«¯
  - é¢è¯•é€ è½®
abbrlink: '20802113'
date: 2020-05-31 16:41:48
updated: 2020-07-24 15:03:00
keywords: 
  - å‰ç«¯é¢è¯•é¢˜
description: å‰ç«¯é¢è¯•é¢˜-åŸºç¡€
displayed_sidebar: interviewSidebar
---

è®°å½•äº†è‡ªå·±ç–«æƒ…æœŸé—´å¤ä¹ æ€»ç»“çš„ä¸€äº›é¢è¯•é¢˜+é¢è¯•é‡åˆ°çš„ä¸€äº›é—®é¢˜ï¼Œæ–‡ç« å°†ä¼šæŒç»­æ›´æ–°ã€‚

<!-- more -->

![](http://img.adoutu.com/picture/1538925790667.jpg)

## JS

### åŸå‹åŠç»§æ‰¿

![çº¢å®ä¹¦ä¸­çš„å›¾](https://raw.githubusercontent.com/3Alan/images/master/img/image-20200724160959828.png)

![](https://camo.githubusercontent.com/71cab2efcf6fb8401a2f0ef49443dd94bffc1373/68747470733a2f2f757365722d676f6c642d63646e2e786974752e696f2f323031382f332f31332f313632316538613962636230383732643f773d34383826683d35393026663d706e6726733d313531373232)

**ç»„åˆç»§æ‰¿**

```js
function Person(name) {
  this.name = name;
  this.features = ['eyes'];
}

function Student(name, id) {
  Person.call(this, name); //ç»§æ‰¿å±æ€§ç›¸å½“äºsuper(this)
  this.id = id;
}

Student.prototype = new Person();

Student.prototype.sayHello = function () {
  console.log('hello');
};

const s1 = new Student('Alan', '001');
const s2 = new Student('Bob', '002');

console.log(s1 instanceof Person); // true
// å¼•ç”¨ç±»å‹åœ¨å„å®ä¾‹ä¸­ä¸ä¼šç›¸äº’å½±å“
s1.features.push('hand');
console.log(s2.features); // ["eyes"]
```

æ›´å¤šç»§æ‰¿æ–¹å¼åŠå…¶ä¼˜ç¼ºç‚¹å¯ä»¥æŸ¥çœ‹çº¢å®ä¹¦ç¬¬å…­ç« ï¼ˆè®²å¾—éå¸¸â€œå¹²â€ï¼‰



### æ·±æ‹·è´å’Œæµ…æ‹·è´

åœ¨JSä¸­ï¼Œå˜é‡åˆ†ä¸ºäº†åŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ã€‚å¯¹åŸºæœ¬ç±»å‹è¿›è¡Œèµ‹å€¼æ—¶æ˜¯å¯¹å€¼è¿›è¡Œæ‹·è´çš„ï¼Œè€Œå¯¹å¼•ç”¨ç±»å‹è¿›è¡Œèµ‹å€¼åˆ™æ˜¯å¯¹åœ°å€è¿›è¡Œæ‹·è´ã€‚

{% tabs 1%}

<!-- tab åŸºæœ¬ç±»å‹ -->

```js
let a = 1;
let b= a;
console.log(a); // 1
a++;
console.log(a); // 2
console.log(b); // 1
```

<!-- endtab -->

<!-- tab å¼•ç”¨ç±»å‹ -->

```js
const obj = {
    name: 'Alan',
    age: 22,
}
const cloneObj = obj;
obj.age = 18;
console.log(cloneObj.age); // 18
```

<!-- endtab -->

{% endtabs %}

é€šè¿‡ä¸Šé¢çš„ä¾‹å­æˆ‘ä»¬çŸ¥é“ï¼ŒcloneObjå’Œobjæ˜¯æŒ‡å‘åŒä¸€ä¸ªåœ°å€çš„ï¼Œä»»ä½•ä¸€æ–¹ä¿®æ”¹éƒ½ä¼šå½±å“åˆ°å¯¹æ–¹ï¼Œé‚£å¦‚ä½•åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„cloneObj?ï¼Œè¿™å°±è¦ä½¿ç”¨æ·±æ‹·è´å’Œæµ…æ‹·è´äº†ã€‚

æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼š

æ ¹æ®æ‹·è´çš„å±‚çº§è¿›è¡ŒåŒºåˆ†ï¼Œæµ…æ‹·è´åªè¿›è¡Œä¸€å±‚æ‹·è´ï¼Œæ·±æ‹·è´è¿›è¡Œå¤šå±‚æ‹·è´ã€‚

- æµ…æ‹·è´

{% tabs 2%}

<!-- tab æ–¹æ³•1 -->

```js
const obj = {a:1, b:{b1:1, b2:2}, c:0};
function shallowClone(source) {
    const result= {};
    for (const key in source) {
        if (source.hasOwnProperty(key)) {
            result[key] = source[key];
        }
    }
    return result;
}
const shallowObj = shallowClone(obj);
obj.a = 10;
console.log(shallowObj.a); // 1
obj.b.b1 = 6;
console.log(shallowObj.b.b1); // 6
```

<!-- endtab -->

<!-- tab æ–¹æ³•2 -->

```js
const obj = {a:1, b:{b1:1, b2:2}, c:0};
function shallowClone1(source) {
    return Object.assign({}, source);
}
const shallowObj = shallowClone1(obj);
obj.a = 10;
console.log(shallowObj.a); // 1
obj.b.b1 = 6;
console.log(shallowObj.b.b1); // 6
```

<!-- endtab -->

{% endtabs %}

- æ·±æ‹·è´

{% tabs 3%}

<!-- tab æ–¹æ³•1 -->

```js
const obj = {a:1, b:{b1:1, b2:2}, c:0};
function deepClone(source) {
    const result = {};
    for (const key in source) {
        if (source.hasOwnProperty(key)) {
            if (typeof source[key] === 'object') {
                result[key] = deepClone(source[key]);
            } else {
                result[key] = source[key];
            }
        }
    }
    return result;
}
const deepObj = deepClone(obj);
obj.a = 10;
console.log(deepObj.a); // 1
obj.b.b1 = 6;
console.log(deepObj.b.b1); // 1
```

<!-- endtab -->

<!-- tab æ–¹æ³•2 -->

```js
const obj = {a:1, b:{b1:1, b2:2}, c:0};
function deepClone(source) {
    return JSON.parse(JSON.stringify(source));
}
const deepObj = deepClone(obj);
obj.a = 10;
console.log(deepObj.a); // 1
obj.b.b1 = 6;
console.log(deepObj.b.b1); // 1
```

<!-- endtab -->

{% endtabs %}



### æ•°ç»„å»é‡

{% tabs 4%}

<!-- tab æ–¹æ³•1 -->

```js
// ç¬¨æ–¹æ³•
const arr = [1,1,2,5,2,6,8];
let newArr = []
for(let i = 0; i < arr.length; i++) {
    if (newArr.includes(arr[i])) {
        continue;
    }
    newArr.push(arr[i])
}
```

<!-- endtab -->

<!-- tab æ–¹æ³•2 -->

```js
const arr = [1,3,45,6,3,2,0];
const newArr = arr.filter((item,index) => {
    return arr.indexOf(item) === index
})
console.log(arr); // [1, 3, 45, 6, 3, 2, 0]
console.log(newArr); // [1, 3, 45, 6, 2, 0]
```

<!-- endtab -->

<!-- tab æ–¹æ³•3 Set -->

```js
const arr = [1,3,45,6,3,2,0];
const newArr = [...new Set(arr)];
console.log(arr); // [1, 3, 45, 6, 3, 2, 0]
console.log(newArr); // [1, 3, 45, 6, 2, 0]
```

<!-- endtab -->

{% endtabs %}

### æ•°ç»„å¡«å……
```js
new Array(10).fill(1);

Array.from({ length: 10 }, item => 1);
```



### for in å’Œ for of

- for in ä¼šéå†æ•°ç»„ä¸­çš„å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬åŸå‹ã€‚å¯ä»¥éå†å¯¹è±¡ï¼Œéå†çš„æ˜¯keyå€¼
- for ofåªæ˜¯éå†æ•°ç»„çš„å…ƒç´ æˆ–è€…å¯ä»¥è¿­ä»£çš„å¯¹è±¡ï¼Œä¸åŒ…æ‹¬åŸå‹ã€‚éå†çš„æ˜¯valueå€¼ã€‚

```js
Array.prototype.testMethod = function () {
    console.log('testMethod');
}
const mArr = [1,2,3,7];
const mObject = {
    name: 'Alan',
    age: 1
}
for (const key in mArr) {
    console.log(mArr[key]);
    // 1 2 3 7 
    /*       Æ’ () {
        console.log('testMethod');
      } */
}
// è§£å†³æ–¹æ¡ˆ
for (const key in mArr) {
    if (mArr.hasOwnProperty(key)) {
        console.log(mArr[key]);
        // 1 2 3 7
    }
}
for (const key in mObject) {
    console.log(key);
    // name
    // age
}
try {
    for (const iterator of mObject) {
        console.log(iterator);
    }
} catch (error) {
    console.log(error);
    //mObject is not iterable
}
```



### äº‹ä»¶å§”æ‰˜

äº‹ä»¶å§”æ‰˜åˆ©ç”¨äº†äº‹ä»¶å†’æ³¡ï¼ŒåªæŒ‡å®šäº†ä¸€ä¸ªäº‹ä»¶å¤„ç†ç¨‹åºï¼Œå°±å¯ä»¥ç®¡ç†æŸä¸€ç±»å‹çš„æ‰€æœ‰äº‹ä»¶ã€‚

ä¾‹å¦‚ï¼Œclickäº‹ä»¶ä¼šä¸€ç›´å†’æ³¡åˆ°documentå±‚æ¬¡ã€‚ä¾‹å¦‚ä¸‹é¢ä¾‹å­ä¸­æˆ‘ä»¬æ— éœ€å¯¹æ‰€æœ‰liå…ƒç´ æ·»åŠ onclickäº‹ä»¶ï¼Œåªéœ€ä½¿ç”¨äº‹ä»¶å†’æ³¡çš„ç‰¹æ€§æ¥å®ç°äº‹ä»¶å§”æ‰˜ã€‚

```html
<body>
  <ul id="myList">
    <li id="sayName">Name</li>
    <li id="sayHello">Hello</li>
    <li id="sayAge">Age</li>
  </ul>
  <script>    
    const myList = document.getElementById('myList');
    myList.addEventListener('click', function (e) {
      const target = e.target;
      if (target.id === 'sayName') {
        alert('Alan');
      } else if(target.id === 'sayHello') {
        alert('Hello');
      } else {
        alert('sayAge');
      }
    })
  </script>
</body>
```



### å®ç°æ»‘åŠ¨åŠ¨ç”»

```html
<div id="myDiv"></div>

<script>
    const myDiv = document.getElementById('myDiv');
	const time = Date.now(); //æ—¶é—´æˆ³

	const transition = setInterval(() => {
    const timeLength = Date.now() - time;
    const step = (5000 - timeLength) / 1000;
    console.log(step);

    if (timeLength > 5000) {
        clearInterval(transition);
        // 5såç»“æŸ
    }
    myDiv.style.left = myDiv.offsetLeft + step + 'px';
}, 50);
</script>
```



### æ•°ç»„æ‰å¹³åŒ–

{% tabs 5%}

<!-- tab æ–¹æ³•1 -->

```js
// Array.prototype.flat([depth])
let arr = [1,2,7,[2,[2,3],6]];

console.log(arr.flat(Infinity));
```

<!-- endtab -->

<!-- tab æ–¹æ³•2 -->

```js
// ä½¿ç”¨for of é€’å½’
let arr = [1,2,7,[2,[2,3],6]];
function flat(arr) {
    let newArr =[];
    for (const item of arr) {
        if(Array.isArray(item)){
            newArr = newArr.concat(flat(item));
        } else {
            newArr.push(item);
        }
    }
    return newArr;
}
console.log(flat(arr));
```

<!-- endtab -->

<!-- tab æ–¹æ³•3 -->

```js
// æ‰©å±•è¿ç®—ç¬¦
const arr = [1,2,7,[2,[2,3],6]];
function flat(arr) {
    while (arr.some(item => Array.isArray(item))) {
        arr = [].concat(...arr);
    }
    return arr;
}
console.log(flat(arr));
```

<!-- endtab -->

<!-- tab æ–¹æ³•4 -->

```js
// éªšæ“ä½œ
const arr = [1,2,7,[2,[2,3],6]];
function flat(arr) {
    const result = arr.toString().split(',').map(item => {
        return +item;
    });
    return result;
}
console.log(flat(arr));
```

<!-- endtab -->

{% endtabs %}



### eventLoop

JSæ˜¯å•çº¿ç¨‹çš„ï¼Œé‚£ä¸ºä»€ä¹ˆä¸æ˜¯å¤šçº¿ç¨‹çš„å‘¢ï¼Œè®¾æƒ³ä¸€ä¸ªåœºæ™¯ï¼Œä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†bodyçš„backgroundä¸ºredï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†bodyçš„backgroundä¸ºgreenã€‚é‚£æœ€ç»ˆæµè§ˆå™¨å°±ä¸çŸ¥é“backgroundåˆ°åº•ä¸ºä»€ä¹ˆã€‚ç”±æ­¤å¯ä»¥çœ‹åˆ°å¤šçº¿ç¨‹ä¼šä¸ºæµè§ˆå™¨çš„DOMæ“ä½œå¸¦æ¥å¾ˆå¤šåŒæ­¥é—®é¢˜ã€‚[å‚è€ƒèµ„æ–™](http://www.ruanyifeng.com/blog/2014/10/event-loop.html)

**JSçš„ä»»åŠ¡å¯ä»¥åˆ†ä¸ºåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ã€‚**

1.åŒæ­¥ä»»åŠ¡ä¼˜å…ˆåœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œï¼Œä¼šå½¢æˆä¸€ä¸ªæ‰§è¡Œæ ˆã€‚

2.å¼‚æ­¥ä»»åŠ¡ä¼šè¢«æ”¾å…¥ä»»åŠ¡**é˜Ÿåˆ—**ä¸­ï¼Œå½“æ‰§è¡Œæ ˆæ¸…ç©ºæ—¶ä¼šè¯»å–ä»»åŠ¡é˜Ÿåˆ—ä¸­çš„ä»»åŠ¡ä¸¢è¿›æ‰§è¡Œæ ˆä¸­ã€‚

1ã€2ä¸¤æ­¥åå¤æ‰§è¡Œå½¢æˆäº†eventLoopã€‚



å¦‚æœå°†ä»»åŠ¡ç»†åˆ†çš„è¯è¿˜å¯ä»¥åˆ†æˆ**å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡**ï¼š

- macro-task(å®ä»»åŠ¡)ï¼šåŒ…æ‹¬æ•´ä½“ä»£ç scriptï¼ŒsetTimeoutï¼ŒsetInterval
- micro-task(å¾®ä»»åŠ¡)ï¼šPromise.then()ï¼Œprocess.nextTick

ä¼˜å…ˆçº§ï¼šprocess.nextTick>Promise.then()

**å½“æ‰§è¡Œæ ˆä¸­æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œå¾®ä»»åŠ¡æ€»æ˜¯ä¼˜å…ˆäºå®ä»»åŠ¡æ‰§è¡Œ**

è¯¦ç»†æŸ¥çœ‹æ–‡ç« [è¿™ä¸€æ¬¡ï¼Œå½»åº•å¼„æ‡‚ JavaScript æ‰§è¡Œæœºåˆ¶](https://juejin.im/post/59e85eebf265da430d571f89)


```js
console.log('script start')

async function async1() {
    await async2()
    console.log('async1 end')
}
async function async2() {
    console.log('async2 end')
    return Promise.resolve().then(()=>{
        console.log('async2 end1')
    })
}
async1()

setTimeout(function() {
    console.log('setTimeout')
}, 0)

new Promise(resolve => {
    console.log('Promise')
    resolve()
})
.then(function() {
    console.log('promise1')
})
.then(function() {
    console.log('promise2')
})

console.log('script end')

// script start => async2 end => Promise => script end => async2 end1 => promise1 => promise2 => async1 end => setTimeout
```

### this

> https://juejin.cn/post/6844903496253177863

- æŒ‡å‘**è°ƒç”¨**å®ƒçš„é‚£ä¸ªå¯¹è±¡ï¼Œå‡½æ•°è¿è¡Œæ—¶è·å¾—çš„ã€‚
- ç®­å¤´å‡½æ•°çš„thisæŒ‡å‘å–å†³äº**å®šä¹‰**æ—¶æœ€è¿‘ä¸€å±‚çš„éç®­å¤´å‡½æ•°çš„thiså€¼ã€‚å–å†³äºå¤–éƒ¨çš„ä¸Šä¸‹æ–‡ã€‚

ç‰¹æ®Šä¾‹å­
```js
var name = "windowsName";
var a = {
  name : null,
  fn : function () {
    console.log(this.name);      // windowsName
  }
}

var f = a.fn;
f();
```



### é—­åŒ…

å…³é”®è¯ï¼š å†…å­˜æ³„æ¼

- å½“å‰å‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­çš„å†…å®¹è¢«è¯¥ä¸Šä¸‹æ–‡ä»¥å¤–çš„å†…å®¹**å ç”¨**ï¼Œå¯¼è‡´å½“å‰ä¸Šä¸‹æ–‡æ— æ³•é‡Šæ”¾ã€‚
- é—­åŒ…æ˜¯æŒ‡æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­çš„å˜é‡çš„å‡½æ•°ã€‚
- åˆ›å»ºé—­åŒ…çš„å¸¸è§æ–¹å¼ï¼Œå°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°

[ç›¸å…³æ–‡ç« ](https://juejin.cn/post/6937469222251560990?share_token=acad6730-948d-4fcb-8bcb-799dd6bf0dc3)



### æ±‚æ•°ç»„æœ€å¤§å€¼

```js
const arr = [1,2,1,4,2,10];
console.log(Math.max.apply(null, arr));
```

```js
const arr = [1,2,1,4,2,10];
console.log(arr.sort((a,b) => (a-b))[arr.length-1]);
```

```js
const arr = [1,2,1,4,2,10];
console.log(Math.max(...arr));
```

### Promise

```js
// new Promise(executor)ï¼Œå½“new Promiseè¢«åˆ›å»ºï¼Œexecutorè‡ªåŠ¨æ‰§è¡Œ
let promise = new Promise(function (resolve, reject) {
    resolve('finished');
    // reject(new Error);
});
// Promise.then(f1,f2) f1åœ¨resolveåè¿è¡Œï¼ˆå‚æ•°ä¸ºresolveç»“æœï¼‰ï¼Œf2åœ¨rejectåè¿è¡Œï¼ˆå‚æ•°ä¸ºrejecté”™è¯¯ï¼‰
promise.then(
    result => console.log(result), //finished
    error => console.log(error) //è¾“å‡ºé”™è¯¯
);
```

- promise.all()åŒæ—¶æ‰§è¡Œå¤šä¸ªpromiseï¼Œåªè¦æœ‰ä¸€ä¸ªpromiseè¢«rejectï¼Œé‚£ä¹ˆå°†ä¸å†æ‰§è¡Œ
- promise.allSettled()å’Œpromise.all()ç±»ä¼¼ï¼Œåªæ˜¯ä¼šç­‰æ‰€æœ‰promiseæ‰§è¡Œå®Œã€‚
- promise.race()è¿”å›æœ€å¿«æ‰§è¡Œå®Œçš„promiseç»“æœã€‚
- é€šè¿‡ window.addEventListener('unhandledrejection', event => alert(event.reason)) æ¥æ•è·æœªå¤„ç†çš„ rejectionã€‚
- thenable å¯¹è±¡ï¼ˆå…·æœ‰å¯è°ƒç”¨çš„ then æ–¹æ³•çš„å¯¹è±¡ï¼‰

**å®ç°ä¸€ä¸ªsleep**

```js
function sleep(ms) {
  return new Promise((resolve) => {
    setTimeout(resolve, ms);
  });
}

(async () => {
  console.log('2såè¾“å‡ºå†…å®¹...');
  await sleep(2000);
  console.log('666');
})();
```

{% note link, https://zh.javascript.info/promise-basics %}

### é˜²æŠ–å’ŒèŠ‚æµ

- èŠ‚æµ

å‡½æ•°åœ¨ä¸€å®šæ—¶é—´å†…åªæ‰§è¡Œä¸€æ¬¡ï¼Œæ¯”å¦‚ç‚¹å‡»æŒ‰é’®åå›å»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œä½¿ç”¨èŠ‚æµå¯ä»¥é˜²æ­¢çŸ­æ—¶é—´å†…è¯·æ±‚å¤šæ¬¡ï¼Œå‡å°‘æœåŠ¡å™¨çš„å‹åŠ›

- é˜²æŠ–

åœ¨ä¸€å®šæ—¶é—´åæ‰æ‰§è¡Œï¼ˆè§¦å‘å¤šæ¬¡åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼‰ã€‚åº”ç”¨åœºæ™¯ï¼šinputæœç´¢æ¡†åœ¨waitç§’åå†å‘é€è¯·æ±‚

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    body {
      height: 4000px;
      width: 100px;
      background: rgb(241, 165, 165);
    }
  </style>
</head>
<body>
  <button id="fetchBtn">fetch data</button>
  <span>searchBar</span><input id="inputBar"/>
  <script>
    // èŠ‚æµ
    function throttle(func, wait) {
      let last = 0;
      return function (...args) {
        let now = new Date();
        if (now - last > wait) {
          last = now;
          func.apply(this, args);
        }
      }
    }

    // é˜²æŠ–
    function debounce(func, wait) {
      let timer = 0;
      return function (...args) {
        if (timer) clearTimeout(timer);
        timer = setTimeout(() => {
          func.apply(this, args);
        }, wait)
      }
    }

    document.getElementById('fetchBtn').addEventListener('click', throttle(function (numb) {
      console.log('fetching');
    },1000));
    document.getElementById('inputBar').addEventListener('input', debounce(function (numb) {
      console.log('searching');
    },1000));
  </script>
</body>
</html>
```

### XMLHttpRequest

å¸¸ç”¨æ–¹æ³•ï¼š

- open(method, url, [async, user, password])åˆå§‹åŒ–ï¼Œasync(false/true)æ§åˆ¶åŒæ­¥/å¼‚æ­¥
- send([body])å‘é€è¯·æ±‚
- abort()ä¸­æ­¢è¯·æ±‚
- setRequestHeader(name, value)è®¾ç½®è¯·æ±‚å¤´

å¸¸ç”¨å±æ€§ï¼š

status: 404/200...

statusText: Not Found/OK...

responseType: å“åº”æ ¼å¼

readyStateï¼š çŠ¶æ€

withCredentials: è·¨åŸŸè®¾ç½®

```javascript
UNSENT = 0; // åˆå§‹çŠ¶æ€
OPENED = 1; // open è¢«è°ƒç”¨
HEADERS_RECEIVED = 2; // æ¥æ”¶åˆ° response header
LOADING = 3; // å“åº”æ­£åœ¨è¢«åŠ è½½ï¼ˆæ¥æ”¶åˆ°ä¸€ä¸ªæ•°æ®åŒ…ï¼‰
DONE = 4; // è¯·æ±‚å®Œæˆ
```

å¸¸ç”¨ç›‘å¬äº‹ä»¶ï¼š

- onload
- onerror
- onprogress

### é¢˜ç›®

```js
const a = ['1', '2', '3'].map(parseInt);
// æ•°ç»„aä¸­çš„'1'è½¬åŒ–ä¸º10è¿›åˆ¶ã€‚
console.log(a); // [1, NaN, NaN]
// mapçš„ä¸‰ä¸ªå‚æ•°(item,index,array)
/* parseInt(string, radix)
å½“radixç­‰äº0æˆ–è€…undefinedæˆ–è€…æ²¡æœ‰æŒ‡å®šæ—¶ï¼Œå¦‚æœstringä»¥'0x'æˆ–è€…''0X'å¼€å¤´ï¼Œåˆ™radix=16
ä»¥'0'å¼€å¤´ï¼Œæ ¹æ®å®é™…æƒ…å†µradix=10/8ã€‚ */
```

```js
const users = [
    {
        name: 'Alan',
        age: 19
    },
    {
        name: 'Bob',
        age: 25
    }
];
const userList = users.sort((a, b) => b.age-a.age);
// æ ¹æ®å¹´é¾„è¿›è¡Œæ’åºï¼Œæ³¨æ„ï¼šsortä¼šæ”¹å˜åŸæ¥çš„æ•°ç»„
```

```js
function isSameLetter(a, b) {
    a = a.toString().toLowerCase();
    b = b.toString().toLowerCase();
    return a.split('').sort().join('') === b.split('').sort().join('');
}
console.log(isSameLetter('176as', 'a17s6'));
//åˆ¤æ–­ä¸¤è€…æ˜¯å¦æ˜¯ç”±ç›¸åŒçš„å­—æ¯ç»„æˆï¼Œé¡ºåºå¯ä»¥ä¸ä¸€æ ·
```

## CSS

### csså•ä½

- remï¼šç›¸å¯¹äºæ ¹å…ƒç´ çš„å­—ä½“å¤§å°ï¼ˆhtmlï¼‰css3

  å¦‚æœhtmlçš„font-sizeä¸º16pxï¼ˆé»˜è®¤ï¼‰ï¼Œé‚£ä¹ˆ1rem=16px

- emï¼šå¦‚æœè¯¥å…ƒç´ æœ‰è®¾ç½®font-sizeï¼Œé‚£ä¹ˆç›¸å¯¹äºè¯¥å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®åˆ™ç›¸å¯¹äºçˆ¶å…ƒç´ ã€‚

  ä¾‹å¦‚ï¼Œdivè®¾ç½®äº†font-sizeä¸º10pxï¼Œé‚£ä¹ˆè¯¥divä¸­ä½¿ç”¨emæ—¶ï¼Œ1emä¸º10px

  å¦‚æœè¯¥å…ƒç´ æ²¡æœ‰è®¾ç½®font-sizeä¸”çˆ¶å…ƒç´ è®¾ç½®font-sizeä¸º20pxï¼Œé‚£ä¹ˆ1emä¸º20px

- vh/vwç›¸å¯¹äºè§†çª—ï¼Œ10vh=1/10çš„å±å¹•é«˜

### translateå’Œä½¿ç”¨ç»å¯¹å®šä½çš„åŒºåˆ«

translateä¼šå æ®åŸæ¥çš„ä½ç½®ï¼Œç»å¯¹å®šä½ä¼šè„±ç¦»æ–‡æ¡£æµã€‚

### BFC

æ¦‚å¿µï¼šå¾ˆæ¨¡ç³ŠæŠ½è±¡ï¼Œæ˜¯é¡µé¢ä¸Šä¸€ä¸ªéš”ç¦»çš„ç‹¬ç«‹å®¹å™¨ï¼Œå®¹å™¨ä¸­çš„å­å…ƒç´ ä¸ä¼šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚

è¯•ç”¨åœºæ™¯ï¼šæ¸…ç†æµ®åŠ¨ï¼Œè§£å†³marginé‡å 

**ä¸€ä¸ªå…ƒç´ ä¸èƒ½åŒæ—¶å­˜åœ¨ä¸¤ä¸ªBFCä¸­**

åˆ›å»ºæ–¹å¼ï¼š

- æ ¹å…ƒç´ 
- floatä¸ä¸ºnone
- position: absolute/fixed
- display: inline-block/table-cell
- overflowä¸ä¸ºvisible
- å¼¹æ€§ç›’å­ï¼ˆ`display: flex/inline-flex`ï¼‰



### æ¸…ç†æµ®åŠ¨

- ä¼ªç±»å…ƒç´ 

  ```css
  .clearfix::after {
      content: '';
      display: blcok;
      clear: both;
  }
  ```

- åˆ›å»ºBFC

  ```css
  overflow: hidden;
  
  overflow: auto;
  ```

- ç©ºç›’å­

  ```html
  <div style="clear: both;"></div>
  ```

### é€‰æ‹©å™¨ä¼˜å…ˆçº§

**!important > è¡Œå†…æ ·å¼ > IDé€‰æ‹©å™¨ > ç±»é€‰æ‹©å™¨ > æ ‡ç­¾ > é€šé…ç¬¦ > ç»§æ‰¿**



### å‚ç›´å±…ä¸­

```html
<div class="outer">
    <div class="inner"></div>
</div>
```

- table-cell

```css
.outer {
    width: 400px;
    height: 400px;
    background: aqua;
    display: table-cell;
    vertical-align: middle;
    text-align: center;
}
.inner {
    width: 100px;
    height: 100px;
    background: brown;
    display: inline-block;
}
```

- flexå¸ƒå±€

- ç»å¯¹å®šä½

  {% tabs 6 %}

  <!-- tab å·²çŸ¥å­å…ƒç´ å®½é«˜ -->

  ```css
  .outer {
      position: relative;
  }
  .inner {
      position: absolute;
      left: 50%;
      top: 50%;
      margin-left: -50px; /* å®½åº¦ä¸€åŠ */
      margin-top: -50px; /* é«˜åº¦ä¸€åŠ */
  }
  ```

  <!-- endtab -->

  <!-- tab æœªçŸ¥å­å…ƒç´ å®½é«˜ -->

  ```css
  .outer {
      position: relative;
  }
  .inner {
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
  }
  ```

  <!-- endtab -->

  <!-- tab margin -->

  ```css
  .outer {
      position: relative;
  }
  .inner {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      bottom: 0;
      margin: auto;
  }
  ```

  <!-- endtab -->

  {% endtabs %}



## HTML

### metaæ ‡ç­¾

```
<meta name="viewport" content="width=device-width, initial-scale=1.0">
```



## ç½‘ç»œ

### å®‰å…¨

#### XSS(Cross-site scripting)
- åå°„å‹
  ```js
  // name çš„å€¼ä» url ä¸­è·å–
  // http://www.domain.com?name=<script>alert(1)</script>
  <div>{name}</div>
  ```
- å­˜å‚¨å‹
  ```js
  // è¯„è®ºä¸­æ³¨å…¥ script ä»£ç ï¼Œè¿™æ ·æ‰€æœ‰æµè§ˆçš„ç”¨æˆ·éƒ½ä¼šå—åˆ°å½±å“
  <script>alert(1)</script>
  ```
- DOM-basedï¼Œä»¥ä¸Šä¸¤ç§éƒ½ç”¨åˆ°äº†

é˜²å¾¡

å¯¹å¼•å·ã€å°–æ‹¬å·ã€æ–œæ†è¿›è¡Œè½¬ä¹‰

#### CSP
è®¾ç½® HTTP Header çš„ `Content-Security-Policy`

#### CSRF(Cross-site request forgery)
å…³é”®è¯ï¼š åˆ©ç”¨cookie
åˆ©ç”¨ç”¨æˆ·çš„çŠ¶æ€è¿›è¡Œæ¶æ„è¯·æ±‚ï¼Œåœ¨ç”¨æˆ·ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡é’“é±¼ç½‘ç«™é“¾æ¥è¯±å¯¼ç”¨æˆ·è¯·æ±‚æŸäº›æ¥å£ã€‚

é˜²å¾¡

- HTTP çš„ Referer éªŒè¯è¯·æ±‚æ¥æºåœ°å€
- è¯·æ±‚æ—¶é™„å¸¦éªŒè¯ä¿¡æ¯ï¼Œtoken
- Set-Cookie ä¸­çš„ SameSiteï¼ˆä¸èƒ½åœ¨è·¨åŸŸè¯·æ±‚ä¸­æºå¸¦cookieï¼‰/http-only(ç¦æ­¢JSè®¿é—®Cookie)/secureï¼ˆåªèƒ½åœ¨HTTPSä¸­æºå¸¦ï¼‰


### ä»è¾“å…¥URLåˆ°é¡µé¢åŠ è½½å‘ç”Ÿäº†ä»€ä¹ˆ

1. æµè§ˆå™¨æŸ¥æ‰¾å½“å‰URLæ˜¯å¦å­˜åœ¨ç¼“å­˜ï¼Œå¹¶æ¯”è¾ƒç¼“å­˜æ˜¯å¦è¿‡æœŸ
2. æ ¹æ®DNSè§£æå¾—åˆ°IPåœ°å€
3. å»ºç«‹TCPè¿æ¥ï¼ˆ3æ¬¡æ¡æ‰‹ï¼‰
4. HTTPå‘è¯·æ±‚
5. æœåŠ¡å™¨å¤„ç†è¯·æ±‚ï¼Œè¿”å›æ•°æ®
6. æ¸²æŸ“é¡µé¢ï¼Œæ„å»ºDOMæ ‘
7. å…³é—­TCPè¿æ¥ï¼ˆ4æ¬¡æŒ¥æ‰‹ï¼‰

#### ç¼“å­˜
- å¼ºç¼“å­˜ ï¼ˆcache-control:max-age/expiresï¼‰å‘½ä¸­çš„è¯ä¸ä¼šå‘é€è¯·æ±‚ï¼Œcache-control ä¼˜å…ˆçº§å¤§äº expires
- åå•†ç¼“å­˜ï¼Œ æµè§ˆå™¨æºå¸¦ï¼ˆIf-Modified-Since/If-None-Matchï¼‰è¯¢é—®æœåŠ¡å™¨æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼ŒæœåŠ¡å™¨å¯¹æ¯” ï¼ˆLast-Modified/Etag(æœåŠ¡å™¨ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨)ï¼‰ æ¥å†³å®šæ˜¯å¦è¿”å›æ–°çš„èµ„æº
- å­˜å‚¨ä½ç½®
  - service workerï¼Œå¿…é¡»æ˜¯ httpsï¼Œæµè§ˆå™¨çš„ç‹¬ç«‹çº¿ç¨‹
  - memory cache é€Ÿåº¦å¿«ï¼Œå®¹é‡å°ï¼Œå…·æœ‰æ—¶æ•ˆæ€§ï¼ˆtabï¼‰
  - disk cache é€Ÿåº¦æ…¢ï¼Œå®¹é‡å¤§
  - push cache http2
- DNS ç¼“å­˜
  - æµè§ˆå™¨
  - ç³»ç»Ÿ hosts
  - è·¯ç”±å™¨
  - ISP
  - ä½¿ç”¨ `<link rel="dns-prefetch" href="xxx" />` ä¼˜åŒ–


### å¸¸ç”¨çŠ¶æ€ç 

| åˆ†ç±» | åˆ†ç±»æè¿°                                       |
| :--- | :--------------------------------------------- |
| 1**  | ä¿¡æ¯ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ   |
| 2**  | æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†                     |
| 3**  | é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚             |
| 4**  | å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚     |
| 5**  | æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯ |

| çŠ¶æ€ç  | æè¿°                                                         |
| :----- | ------------------------------------------------------------ |
| 200    | è¯·æ±‚æˆåŠŸ                                                     |
| 204    | æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›å†…å®¹                         |
| 301    | æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿ |
| 302    | ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI |
| 304    | æœªä¿®æ”¹ã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚å®¢æˆ·ç«¯é€šå¸¸ä¼šç¼“å­˜è®¿é—®è¿‡çš„èµ„æºï¼Œé€šè¿‡æä¾›ä¸€ä¸ªå¤´ä¿¡æ¯æŒ‡å‡ºå®¢æˆ·ç«¯å¸Œæœ›åªè¿”å›åœ¨æŒ‡å®šæ—¥æœŸä¹‹åä¿®æ”¹çš„èµ„æº |
| 400    | å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£                         |
| 401    | è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯                                       |
| 403    | æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚               |
| 404    | æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰ã€‚é€šè¿‡æ­¤ä»£ç ï¼Œç½‘ç«™è®¾è®¡äººå‘˜å¯è®¾ç½®"æ‚¨æ‰€è¯·æ±‚çš„èµ„æºæ— æ³•æ‰¾åˆ°"çš„ä¸ªæ€§é¡µé¢ |
| 500    | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚                                 |



### ç½‘ç»œä¸ƒå±‚åè®®

å¼•ç”¨ç½‘ä¸Šçš„ä¸€å¼ å›¾ï¼Œå¦‚ä¾µæƒè¯·è”ç³»æˆ‘åˆ é™¤ğŸ˜‚

![image-20200601083205320](https://raw.githubusercontent.com/3Alan/images/master/img/image-20200601083205320.png)

> å¼•è‡ªç»´åŸºç™¾ç§‘[TCP/IPåè®®æ—](https://zh.wikipedia.org/wiki/TCP/IPåè®®æ—)æ˜¯ä¸€ä¸ªç½‘ç»œé€šä¿¡æ¨¡å‹ï¼Œä»¥åŠä¸€æ•´ä¸ªç½‘ç»œä¼ è¾“åè®®å®¶æ—ï¼Œä¸ºäº’è”ç½‘çš„åŸºç¡€é€šä¿¡æ¶æ„ã€‚è¯¥åè®®å®¶æ—çš„ä¸¤ä¸ªæ ¸å¿ƒåè®®ï¼šTCPï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰å’ŒIPï¼ˆç½‘é™…åè®®ï¼‰ï¼Œä¸ºè¯¥å®¶æ—ä¸­æœ€æ—©é€šè¿‡çš„æ ‡å‡†ã€‚è¿™ä¸ªåè®®æ—ç”±äº’è”ç½‘å·¥ç¨‹ä»»åŠ¡ç»„è´Ÿè´£ç»´æŠ¤ã€‚

**TCPï¼ˆTransmission Control Protocol ä¼ è¾“æ§åˆ¶åè®®ï¼‰:**é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹ä¸æœåŠ¡å™¨å»ºç«‹ä¸€ä¸ª`å…¨åŒå·¥`çš„é€šä¿¡ï¼Œåœ¨æ•°æ®ä¼ é€ä¹‹å‰æŠŠæ•°æ®åˆ†å‰²æˆIPåŒ…ï¼Œåœ¨åˆ°è¾¾æœåŠ¡å™¨æ—¶å†å°†ä»–ä»¬é‡ç»„ã€‚

**IPï¼ˆInternet Protocol ç½‘é™…åè®®ï¼‰:**IPè´Ÿè´£å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯ä¹‹é—´çš„é€šä¿¡ï¼ŒIPè´Ÿè´£åœ¨å› ç‰¹ç½‘ä¸Šå‘é€å’Œæ¥å—æ•°æ®åŒ…ã€‚é€šè¿‡IPï¼Œæ•°æ®è¢«åˆ†å‰²æˆå°çš„ç‹¬ç«‹çš„åŒ…ï¼Œç„¶åé€šè¿‡äº’è”ç½‘åœ¨è®¡ç®—æœºä¹‹é—´ä¼ é€ã€‚



### HTTP

HTTP(HyperText Transfer Protocol)ï¼ŒåŸºäºTCPå®ç°çš„åº”ç”¨å±‚åè®®ã€‚HTTPæ˜¯ä¸€ä¸ª**æ— çŠ¶æ€**çš„åè®®ï¼Œå³å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¹‹é—´ä¸ç”¨å»ºç«‹æŒä¹…çš„é“¾æ¥ï¼Œå½“å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡ç«¯è¿”å›å“åº”æ—¶ï¼Œè¿æ¥å°±è¢«å…³é—­äº†ã€‚

å½“è¯·æ±‚ä¸€ä¸ªurlæ—¶`www.baidu.com`ï¼Œé¦–å…ˆ`DNS`è§£æå‡ºè¯¥åœ°å€å¯¹åº”çš„IPåœ°å€ï¼Œç„¶åå°†ç›¸å…³ä¿¡æ¯å°è£…æˆä¸€ä¸ªHTTPè¯·æ±‚æ•°æ®åŒ…ã€‚ç„¶åTCPï¼ˆä¸‰æ¬¡æ¡æ‰‹ï¼‰å»ºç«‹è¿æ¥ï¼Œè¿æ¥æˆåŠŸåå‘é€HTTPè¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”å›æ¥åï¼Œå…³é—­TCPè¿æ¥ã€‚å¦‚æœæµè§ˆå™¨æˆ–æœåŠ¡å™¨åœ¨å¤´éƒ¨åŠ å…¥äº†`Connection:keep-alive`ï¼Œé‚£ä¹ˆTCPåœ¨å‘é€å®Œä¿¡æ¯åä»ç„¶ä¿å­˜è¿æ¥ï¼Œè¿™æ ·å¯ä»¥å‡å°‘TCPè¿æ¥æ¬¡æ•°ï¼Œèƒ½æå‡æ€§èƒ½å’ŒæœåŠ¡å™¨ååç‡ï¼ŒHTTP1.1é»˜è®¤å¼€å¯ã€‚

**ç¼ºç‚¹ï¼š**

- é€šè¡Œä½¿ç”¨æ˜æ–‡ï¼Œä¸å®‰å…¨
- ä¸éªŒè¯èº«ä»½ï¼Œå¯èƒ½é­é‡ä¼ªè£…
- æ— æ³•éªŒè¯æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½é­é‡ç¯¡æ”¹



å‰é¢æåˆ°äº†HTTPæ˜¯ä¸€ä¸ªæ— çŠ¶æ€çš„åè®®ï¼Œé‚£å¦‚ä½•è®©å®ƒæ‹¥æœ‰çŠ¶æ€ï¼Ÿ

sessionå’Œcookie

**cookie(key/valueå½¢å¼):**

å®¢æˆ·ç«¯è¿”å›cookieé™„åœ¨å“åº”å¤´ä¸­çš„`Set-Cookie`æˆ–è€…`Set-Cookie2`ï¼Œcookieä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œä¸‹æ¬¡è®¿é—®æ—¶è¿åŒcookieå‘é€ç»™æœåŠ¡ç«¯

**cookieçš„åŒæºå’Œè·¨åŸŸ:**

cookieåªå…³æ³¨åŸŸåï¼Œå¿½ç•¥åè®®å’Œç«¯å£ï¼Œæ„æ€æ˜¯åè®®æˆ–è€…ç«¯å£ä¸åŒä¸å±äºè·¨åŸŸ

**sessionæœºåˆ¶ï¼ˆæœåŠ¡ç«¯ç»´æŠ¤çš„ï¼‰ï¼ŒåŸºäºcookieå·¥ä½œï¼š**

sessionå’ŒsessionIdï¼ˆè¿”å›ç»™å®¢æˆ·ç«¯ï¼‰

å½“å®¢æˆ·ç«¯è®¿é—®æœåŠ¡ç«¯æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥è¯·æ±‚ä¸­æ˜¯å¦åŒ…æ‹¬sessionIdã€‚å¦‚æœæœ‰ï¼Œé€šè¿‡sessionIdæ£€ç´¢å‡ºå¯¹åº”sessionè¿›è¡Œä¸€ç³»åˆ—æ“ä½œã€‚å¦‚æœæ²¡æœ‰sessionIdï¼Œåˆ›å»ºä¸€ä¸ªsessionä»¥æ­¤å¯¹åº”çš„sessionIdé€šè¿‡cookieå­˜åœ¨å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯ä¹‹åè®¿é—®æœåŠ¡ç«¯æ—¶é€šè¿‡è¿™ä¸ªsessionIdç»´æŠ¤HTTPçŠ¶æ€ã€‚





### HTTPS

`HTTPS = HTTP + TLS/SSL`

ç»è¿‡åŠ å¯†çš„HTTPï¼Œæ›´åŠ å®‰å…¨ï¼Œåˆ©ç”¨`SSL/TLS`åŠ å¯†æ•°æ®åŒ…ï¼›

`TLS/SSL`:å®‰å…¨ä¼ è¾“å±‚åè®®Transport Layer Security

**TSL/SSL**æ¶‰åŠåˆ°ä¸‰ç§ç®—æ³•ï¼š

- æ•£åˆ—å‡½æ•°Hashï¼šMD5ã€SHA1ã€SHA256ï¼ˆå‡½æ•°å•å‘ä¸å¯é€†ï¼ŒåŠ å¯†ä¼ è¾“ä¿¡æ¯ä»¥åŠä¿¡æ¯æ‘˜è¦ï¼‰
- å¯¹ç§°åŠ å¯†ï¼šAES-CBCã€DESã€3DESã€AES-GCM
- éå¯¹ç§°åŠ å¯†ï¼šRSAï¼ˆåˆ†å…¬é’¥å’Œç§é’¥ï¼‰

**TSLå·¥ä½œæ–¹å¼ï¼š**

é¦–å…ˆä½¿ç”¨**éå¯¹ç§°åŠ å¯†ç®—æ³•åŠ å¯†**è¿›è¡Œé€šä¿¡ï¼ŒæœåŠ¡ç«¯è¿”å›å…¬é’¥å¹¶åå•†ä½¿ç”¨å¯¹ç§°åŠ å¯†åçš„å¯†é’¥å¯¹é€šä¿¡è¿›è¡ŒåŠ å¯†ã€‚

**RSAå­˜åœ¨çš„éšæ‚£/ç¼ºç‚¹ï¼š**
è€—æ—¶è¿‡é•¿

æ— æ³•ç¡®ä¿æœåŠ¡å™¨èº«ä»½(å…¬é’¥æ˜¯ä¸æ˜¯æœåŠ¡å™¨è¿”å›çš„)çš„åˆæ³•æ€§ï¼ˆå› ä¸ºå…¬é’¥ä¸åŒ…å«æœåŠ¡å™¨ä¿¡æ¯ï¼‰,å› ä¸ºæœåŠ¡å™¨åˆ†å‘å…¬é’¥æ—¶å¯ä»¥è¢«åŠ«æŒï¼š

ä¾‹å¦‚ï¼š

Cï¼ˆå®¢æˆ·ç«¯ï¼‰å’ŒSï¼ˆæœåŠ¡ç«¯ï¼‰é€šä¿¡æ—¶ï¼ŒHï¼ˆåŠ«æŒè€…ï¼‰æˆªè·äº†Sä¸Cçš„é€šä¿¡ï¼ŒHå°†è‡ªå·±çš„å…¬é’¥pub_Hç»™äº†Cï¼Œå½“Cå‘Så‘é€è¯·æ±‚æ—¶ï¼Œå®é™…ä¸Šæ˜¯ä½¿ç”¨pub_HåŠ å¯†çš„ï¼Œè¿™æ ·Hå°±èƒ½è·å–åˆ°Cå‘é€çš„æ¶ˆæ¯äº†ã€‚è¿™æ ·åŸæœ¬å±äºCå’ŒSçš„é€šä¿¡ç°åœ¨å°±å˜æˆäº†Cå’ŒHçš„é€šè¡Œäº†ã€‚

**è§£å†³æ–¹æ¡ˆï¼š**å¼•å…¥ç¬¬ä¸‰æ–¹è®¤è¯æœºæ„(è¯ä¹¦ + ç­¾å(é˜²æ­¢æœåŠ¡ç«¯è¿”å›è¯ä¹¦æ—¶è¢«ç¯¡æ”¹))ï¼ŒéªŒè¯å…¬é’¥æ‹¥æœ‰è€…çš„ä¿¡æ¯ç„¶åé¢å‘è¯ä¹¦ï¼Œç®€ç§°`PKIä½“ç³»`

	- Så‘ç¬¬ä¸‰æ–¹æœºæ„æäº¤å…¬é’¥å’Œå…¬å¸ç›¸å…³ä¿¡æ¯
	- CAï¼ˆå³ä¸‰æ–¹è®¤è¯æœºæ„ï¼‰é€šè¿‡ä¸€ç³»åˆ—æ¸ é“éªŒè¯å®¡æ ¸Sä¿¡æ¯çš„æ­£ç¡®æ€§
	- å®¡æ ¸é€šè¿‡åï¼ŒCAå‘Sç­¾å‘è¯ä¹¦ï¼Œè¯ä¹¦ä¿¡æ¯åŒ…æ‹¬ï¼šSçš„å…¬é’¥ã€Så…¬å¸ç›¸å…³ä¿¡æ¯ã€ç­¾å‘æœºæ„CAçš„ä¿¡æ¯ã€æœ‰æ•ˆæ—¶é—´ã€è¯ä¹¦åºåˆ—å·ï¼ˆå‰é¢è¿™äº›ä¿¡æ¯å…¨æ˜¯æ˜æ–‡æ˜¾ç¤ºï¼‰ã€‚ç­¾åï¼ˆä½¿ç”¨æ•£åˆ—å‡½æ•°è®¡ç®—å…¬å¼€çš„æ˜æ–‡ä¿¡æ¯çš„ä¿¡æ¯æ‘˜è¦ï¼Œç„¶åç”¨CAçš„ç§é’¥å¯¹ä¿¡æ¯æ‘˜è¦åŠ å¯†ï¼‰
	- Cå‘Så‘é€è¯·æ±‚ï¼ŒSè¿”å›è¯ä¹¦
	- Cè¯»å–è¯ä¹¦ä¸­çš„æ˜æ–‡ä¿¡æ¯ï¼Œé‡‡ç”¨ç›¸åŒçš„æ•£åˆ—å‡½æ•°è®¡ç®—å¾—åˆ°ä¿¡æ¯æ‘˜è¦ï¼Œç„¶ååˆ©ç”¨CAå¯¹åº”çš„å…¬é’¥å¯¹ç­¾åè¿›è¡Œè§£å¯†ï¼Œå¯¹æ¯”è¯ä¹¦ä¸­çš„ä¿¡æ¯æ‘˜è¦æ¥éªŒè¯è¯ä¹¦/å…¬é’¥çš„åˆæ³•æ€§ã€‚

æ€»ç»“:

- é€šè¿‡hashæ•£åˆ—å‡½æ•°è®¡ç®—å‡ºä¿¡æ¯æ‘˜è¦å¹¶ä½¿ç”¨ CA æä¾›çš„å…¬é’¥å¯¹ç­¾åè§£å¯†å¾—åˆ°ä¿¡æ¯æ‘˜è¦,å¯¹æ¯”è¯ä¹¦ä¸­çš„ä¿¡æ¯æ‘˜è¦æ¥éªŒè¯è¯ä¹¦åˆæ³•æ€§
- Client ç”Ÿæˆä¸€ä¸ªå¯†é’¥ CPrivate, å¹¶åˆ©ç”¨ Server çš„å…¬é’¥ SPublic å¯¹ CPrivate è¿›è¡ŒåŠ å¯†ä¼ é€ç»™ Server
- Server ä½¿ç”¨ SPrivate å¯¹ä¿¡æ¯è¿›è¡Œè§£å¯†å¾—åˆ° CPrivate
- ä¹‹åçš„æ‰€æœ‰é€šä¿¡éƒ½ä¾èµ–ä¸ CPrivate


### HTTP2

[ç›¸å…³æ–‡ç« ](https://juejin.cn/post/6844903734670000142)
ä½¿ç”¨äºŒè¿›åˆ¶ä¼ è¾“æ•°æ®ï¼Œä¸€ä¸ª TCP è¿æ¥ä¸Šå¯ä»¥æœ‰ä»»æ„å¤šä¸ªæµï¼ˆstreamï¼‰ï¼Œå°†å“åº”åˆ†æˆäº†ä¸¤ä¸ªå¸§ï¼ˆframeï¼‰ï¼š HEADERSã€DATA

èƒŒæ™¯ï¼š

åŸºäºHTTP1.1å­˜åœ¨çš„é—®é¢˜

- TCP è¿æ¥æ•°é™åˆ¶ï¼Œå¯¹äºåŒä¸€ä¸ªåŸŸåï¼Œæµè§ˆå™¨åªèƒ½**åŒæ—¶**åˆ›å»º 6-8 ä¸ª TCP é“¾æ¥ï¼ˆå„æµè§ˆå™¨ä¸åŒï¼‰ï¼Œä¸” TCP é“¾æ¥æˆæœ¬è¾ƒé«˜ï¼ˆDNSã€ä¸‰æ¬¡æ¡æ‰‹ã€æ…¢å¯åŠ¨ã€å ç”¨èµ„æºï¼‰
- çº¿å¤´é˜»å¡ï¼Œä¸€ä¸ª TCP ä¸Šåªèƒ½å‘é€ä¸€ä¸ªè¯·æ±‚ï¼Œåç»­çš„è¯·æ±‚éœ€è¦æ’é˜Ÿç­‰å¾…
- å¤´éƒ¨å†—ä½™ï¼Œå¤´éƒ¨æœªå‹ç¼©

HTTP2çš„å‡ ä¸ªä¼˜ç‚¹

- ä½¿ç”¨äºŒè¿›åˆ¶è¿›è¡Œä¼ è¾“ï¼ˆå¸§ï¼‰
- å¤šè·¯å¤ç”¨ï¼Œæ‰€æœ‰é€šä¿¡éƒ½åœ¨ä¸€ä¸ª TCP è¿æ¥ä¸Šå®Œæˆï¼Œå‡å°‘äº† TCP è¿æ¥æ•°
- å¤´éƒ¨å‹ç¼©ï¼ˆHPACKï¼‰ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ç»´æŠ¤ä¸€å¥—ç›¸åŒçš„å­—å…¸ï¼Œä¿å­˜å¤´éƒ¨ index/key/valueï¼Œä¸‹æ¬¡ä¼ è¾“å­—èŠ‚ä½¿ç”¨ index
- æœåŠ¡å™¨æ¨é€ï¼ŒæœåŠ¡å™¨å¯ä¸»åŠ¨æ¨é€èµ„æºç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç¼“å­˜æ¨é€çš„èµ„æºï¼Œä¹Ÿå¯æ‹’æ”¶ã€‚ä¾‹å¦‚æ¨é€ `index.html` çš„ç›¸å…³é™æ€èµ„æº
- å¯ä»¥é€šè¿‡ RST_STREAM ç±»å‹çš„ frameï¼ˆå¸§ï¼‰ å–æ¶ˆæŸæ¬¡è¯·æ±‚ï¼Œä¸å¿…æ–­å¼€ TCP
- å¯å¯¹æ¯ä¸ª stream è®¾ç½®ä¼˜å…ˆçº§

### è·¨åŸŸ

éåŒæºè¯·æ±‚ï¼Œå‡ä¸ºè·¨åŸŸã€‚åè¯è§£é‡Šï¼š*åŒæº â€”â€” å¦‚æœä¸¤ä¸ªé¡µé¢æ‹¥æœ‰ç›¸åŒçš„åè®®ï¼ˆprotocolï¼‰ï¼Œç«¯å£ï¼ˆportï¼‰å’Œä¸»æœºï¼ˆhostï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªé¡µé¢å°±å±äºåŒä¸€ä¸ªæºï¼ˆoriginï¼‰ã€‚*

![image-20200403163435103](https://raw.githubusercontent.com/3Alan/images/master/img/image-20200403163435103.png)

**jsonp:**
é€šè¿‡scriptæ ‡ç­¾çš„srcå±æ€§æ¥å®ç°
```html
<script>
function jsonp (params) {			//è¿™é‡Œä¸ºä¸Šä¸€æ­¥å®šä¹‰çš„å…¨å±€å‡½æ•°
  console.log(params)
}
</script>

<script src="xxx?callback=jsonp">
</script>

æœåŠ¡ç«¯è¿”å›å‡½æ•°
jsonp('response data')  
```

**CORS:**

æœåŠ¡ç«¯è®¾ç½®
- Access-Control-Allow-Origin
- Access-Control-Allow-Credentials è¿è¡Œè·¨åŸŸè¯·æ±‚æºå¸¦å‡­è¯ï¼ˆcookieã€httpè®¤è¯å’Œsslè¯ä¹¦ï¼‰

Vueè®¾ç½®è·¨åŸŸï¼š

vue.http.options.credentials = true

**Nginxä»£ç†**



## æ¡†æ¶

### React
- [React ç”Ÿå‘½å‘¨æœŸ](https://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/)
- useRef
  - æ“ä½œ DOM
  - ä¿å­˜ä¸éœ€è¦åœ¨ JSX ä¸­æ¸²æŸ“çš„å˜é‡
  - ä¿å­˜ç¤ºä¾‹
  - ä½¿ç”¨ `forwardRef` è¿›è¡Œ ref é€ä¼ 
  - ä½¿ç”¨ `useImperativeHandle` çº¦æŸå‘å¤–æš´éœ²çš„ä¸œè¥¿ï¼Œä¸”å¯ä»¥è§£å†³å‡½æ•°ç»„ä»¶ ref æ— æ³•è·å–ç¤ºä¾‹çš„é—®é¢˜ã€‚
  - å½“ `ref` è¦ä½¿ç”¨æœ€æ–°çš„ `state` æ—¶ï¼Œä½¿ç”¨ [flushSync](https://dev.to/somshekhar/have-you-used-flushsync-in-react-4cpo)
- `cloneElement` å¯ä»¥åŠ«æŒ `children element` æ··å…¥ `props`
- [HOC](https://juejin.cn/post/6940422320427106335?from=from_parent_mindnote)
  - æ³¨è§£
  - å¤ç”¨é€»è¾‘
  - æ­£å‘å±æ€§ä»£ç†ï¼ˆå¼ºåŒ– propsï¼‰
  - åå‘å±æ€§ä»£ç†ï¼ˆé€šè¿‡ extends ç»„ä»¶å¯ä»¥è·å–ç»„ä»¶å†…éƒ¨çŠ¶æ€ï¼‰

### å•é¡µåº”ç”¨ä¼˜ç¼ºç‚¹

ä¼˜ç‚¹ï¼š

- åŸºäºajaxåŠ è½½æ•°æ®ï¼Œæ— éœ€åˆ·æ–°é¡µé¢ï¼Œç”¨æˆ·ä½“éªŒå¥½
- å‰åç«¯åˆ†ç¦»ï¼Œåç«¯ä»£ç å¯ä»¥åº”ç”¨åˆ°å¤šç«¯
- å‡è½»æœåŠ¡å™¨å‹åŠ›

ç¼ºç‚¹ï¼š

- ä¸åˆ©äºSEOï¼Œå¯ä»¥ä½¿ç”¨SSRè§£å†³
- é¦–å±åŠ è½½é€Ÿåº¦æ…¢
- ä¸æ”¯æŒæµè§ˆå™¨å‰è¿›åé€€åŠŸèƒ½