---
slug: performance
title: Performance Optimization
date: 2021-02-24T23:14:08.000Z
tags:
  - Front-end Knowledge System
keywords:
  - Front-end Knowledge System
  - Performance Optimization
description: Front-end Knowledge System - Performance Optimization
displayed_sidebar: interviewSidebar
sidebar_label: Performance Optimization
sidebar_position: 2
references:
  - name: 《带你入门前端工程》 - 性能优化
    url: >-
      https://woai3c.gitee.io/introduction-to-front-end-engineering/08.html#%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E5%88%86%E7%B1%BB
summary: >-
  Website loading can be optimized through Server-Side Rendering (SSR).
  Performance monitoring can be done using tools like pageSpeed, lighthouse, and
  web-vitals. Performance metrics include FCP, LCP, FID, CLS, etc. Caching can
  reduce HTTP requests and improve loading speed. Network optimization includes
  reducing HTTP requests, using HTTP2, HTTP caching 304, DNS pre-parsing, and
  enabling gzip. JS optimization includes using web workers,
  requestAnimationFrame to implement animations, event delegation, etc. CSS
  optimization includes reducing CSS repainting and reflow, putting CSS in the
  header and JS in the footer, and reducing the complexity of CSS selectors.
  Static resource optimization includes using CDN, JS lazy loading, image lazy
  loading, webp format, progressive image optimization experience, and
  responsive images. SEO optimization includes HTML tag semantics, reducing
  unnecessary elements, images with clear and meaningful alt descriptions,
  specifying image width and height, TDK, structured data, preventing crawlers
  from crawling the link, specifying landing pages, and合理使用h1 and h2.
ai_translation: true
---

## Website Loading

- Server-Side Rendering (SSR)

## Performance Monitoring

- pageSpeed
- lighthouse
- web-vitals

## Performance Metrics

- FCP
- LCP
- FID
- CLS

## Caching

### Interface Caching

For content that does not change frequently, interface caching can be used, such as category pages.

#### Caching Medium

- Server-side rendering uses redis, [a simple example](https://juejin.cn/post/6844904068217831438)
- Client-side rendering uses localStorage

## Network

- Reduce HTTP requests (for HTTP2 and below)
- Use HTTP2
- HTTP caching 304
- [DNS pre-parsing](https://developer.mozilla.org/zh-CN/docs/Web/Performance/dns-prefetch), use `<link rel="dns-prefetch" href="https://fonts.googleapis.com/">` to pre-parse third-party websites
- Enable gzip
- DNS caching (Node side)

## JS

- Use web workers for high-consumption tasks
- Use requestAnimationFrame to implement animations, reducing dropped frames
- Event delegation

## CSS

- Reduce CSS repainting and reflow
- Put CSS in the header and JS in the footer (JS loading and execution will block HTML parsing, or use defer)
- Reduce the complexity of CSS selectors

## Static Resources

Prefer to use CDN

### JS

- Lazy loading (code splitting)
- documentFragment
- Script loading
  ![script loading](https://html.spec.whatwg.org/images/asyncdefer.svg)

### Images

- Image lazy loading
  - Native
  - getBoundingClientRect
  - IntersectionObserver
- Webp format
- Progressive image optimization experience
- [Responsive images](https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)

## SEO Related

- HTML tag semantics
- Reduce unnecessary elements, reduce nesting
- Images should have clear and meaningful alt descriptions
- Specify image width and height, especially for images above the fold that can affect CLS
- TDK(react-helmet)
  - title
  - description
  - keywords
- Structured data - [application/ld+json](https://moz.com/blog/json-ld-for-beginners)
- Prevent crawlers from crawling the link `<a href="xxx" rel="nofollow">` to prevent weight transfer
- `<link rel="canonical" href="https://alanwang.site" >` Specify the landing page to prevent crawlers from crawling `https://alanwang.site?name='alan'`
- Use h1 and h2 reasonably
